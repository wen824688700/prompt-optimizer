# æ¡†æ¶æè¿°æ›´æ–°æ–‡æ¡£

## æ›´æ–°æ—¥æœŸ
2026-01-03

## æ›´æ–°å†…å®¹

### é—®é¢˜æè¿°
ç”¨æˆ·åé¦ˆæ¡†æ¶é€‰æ‹©å¼¹çª—ä¸­çš„æ¡†æ¶æè¿°è¿‡äºç®€å•ï¼Œä¾‹å¦‚ï¼š
- åŸæè¿°ï¼š"é€‚ç”¨äºç”¨æˆ·éœ€æ±‚çš„ BAB æ¡†æ¶"
- æœŸæœ›æè¿°ï¼š"BABæ¡†æ¶ï¼ˆBefore, After, Bridgeï¼‰æ˜¯ä¸€ç§åŸºäºå™äº‹çš„AIæç¤ºè¯å·¥ç¨‹æ–¹æ³•ï¼Œå¸®åŠ©ç”¨æˆ·å°†æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆè”ç³»èµ·æ¥..."

### è§£å†³æ–¹æ¡ˆ

#### 1. è‡ªåŠ¨åŠ è½½æ¡†æ¶æè¿°

åœ¨ `backend/app/services/framework_matcher.py` ä¸­æ·»åŠ äº†æ–°åŠŸèƒ½ï¼š

**æ–°å¢æ–¹æ³•**ï¼š
- `_load_frameworks_descriptions()`: åŠ è½½æ‰€æœ‰57ä¸ªæ¡†æ¶çš„è¯¦ç»†æè¿°
- `_extract_framework_name()`: ä»æ¡†æ¶æ–‡æ¡£ä¸­æå–æ¡†æ¶åç§°
- `_extract_overview()`: ä»æ¡†æ¶æ–‡æ¡£ä¸­æå–"æ¦‚è¿°"éƒ¨åˆ†

**å·¥ä½œåŸç†**ï¼š
1. æ‰«æ `skills-main/skills/prompt-optimizer/references/frameworks/` ç›®å½•
2. è¯»å–æ‰€æœ‰æ¡†æ¶çš„ Markdown æ–‡æ¡£
3. æå–æ¯ä¸ªæ¡†æ¶çš„"æ¦‚è¿°"éƒ¨åˆ†
4. æ„å»ºæ¡†æ¶åç§°åˆ°æè¿°çš„æ˜ å°„å­—å…¸

#### 2. æ™ºèƒ½åŒ¹é…æ¡†æ¶æè¿°

æ›´æ–°äº† `match_frameworks()` æ–¹æ³•ï¼Œæ”¯æŒå¤šç§æ–¹å¼æŸ¥æ‰¾æ¡†æ¶æè¿°ï¼š

```python
# 1. ç›´æ¥åŒ¹é…æ¡†æ¶ID
description = self.frameworks_descriptions.get(framework_id)

# 2. æ·»åŠ  " Framework" åç¼€å°è¯•
if not description:
    description = self.frameworks_descriptions.get(f"{framework_id} Framework")

# 3. ç§»é™¤ " Framework" åç¼€å°è¯•
if not description and framework_id.endswith(" Framework"):
    base_name = framework_id.replace(" Framework", "")
    description = self.frameworks_descriptions.get(base_name)

# 4. ä½¿ç”¨é»˜è®¤æè¿°
if not description:
    description = f"é€‚ç”¨äºç”¨æˆ·éœ€æ±‚çš„ {framework_id} æ¡†æ¶"
```

### æµ‹è¯•ç»“æœ

è¿è¡Œ `test_framework_descriptions.py` éªŒè¯ï¼š

âœ… æˆåŠŸåŠ è½½ 57 ä¸ªæ¡†æ¶çš„æè¿°
âœ… æ¡†æ¶æè¿°æ¥è‡ªå®˜æ–¹æ–‡æ¡£çš„"æ¦‚è¿°"éƒ¨åˆ†
âœ… æ¡†æ¶åŒ¹é…æ—¶æ­£ç¡®è¿”å›è¯¦ç»†æè¿°

**ç¤ºä¾‹è¾“å‡º**ï¼š

```
æ¡†æ¶: BAB
æè¿°: BABæ¡†æ¶ï¼ˆBefore, After, Bridgeï¼‰æ˜¯ä¸€ç§åŸºäºå™äº‹çš„AIæç¤ºè¯å·¥ç¨‹æ–¹æ³•ï¼Œ
å¸®åŠ©ç”¨æˆ·å°†æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆè”ç³»èµ·æ¥ã€‚é€šè¿‡æè¿°é—®é¢˜(Before)ã€è®¾æƒ³ç†æƒ³ç»“æœ(After)
å¹¶æä¾›æ¸…æ™°çš„æ¡¥æ¢(Bridge)æ¥å®ç°ç›®æ ‡ï¼ŒBABèƒ½å¤Ÿäº§ç”Ÿæƒ…æ„Ÿå…±é¸£ä¸”æœ‰å½±å“åŠ›çš„æç¤ºè¯ã€‚
è¯¥æ¡†æ¶ç‰¹åˆ«é€‚åˆè¥é”€äººå‘˜ã€ç­–ç•¥å¸ˆå’Œåˆ›æ„äººå‘˜ã€‚
```

### ä¿®æ”¹çš„æ–‡ä»¶

1. âœ… `backend/app/services/framework_matcher.py`
   - æ·»åŠ  `_load_frameworks_descriptions()` æ–¹æ³•
   - æ·»åŠ  `_extract_framework_name()` æ–¹æ³•
   - æ·»åŠ  `_extract_overview()` æ–¹æ³•
   - æ›´æ–° `match_frameworks()` æ–¹æ³•
   - æ·»åŠ  `glob` å¯¼å…¥

### æ–°å¢çš„æ–‡ä»¶

1. ğŸ“„ `backend/test_framework_descriptions.py` - æ¡†æ¶æè¿°åŠ è½½æµ‹è¯•è„šæœ¬
2. ğŸ“„ `FRAMEWORK_DESCRIPTIONS_UPDATE.md` - æœ¬æ–‡æ¡£

---

## æ¡†æ¶æè¿°ç¤ºä¾‹

### BAB Framework
```
BABæ¡†æ¶ï¼ˆBefore, After, Bridgeï¼‰æ˜¯ä¸€ç§åŸºäºå™äº‹çš„AIæç¤ºè¯å·¥ç¨‹æ–¹æ³•ï¼Œ
å¸®åŠ©ç”¨æˆ·å°†æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆè”ç³»èµ·æ¥ã€‚é€šè¿‡æè¿°é—®é¢˜(Before)ã€è®¾æƒ³ç†æƒ³ç»“æœ(After)
å¹¶æä¾›æ¸…æ™°çš„æ¡¥æ¢(Bridge)æ¥å®ç°ç›®æ ‡ï¼ŒBABèƒ½å¤Ÿäº§ç”Ÿæƒ…æ„Ÿå…±é¸£ä¸”æœ‰å½±å“åŠ›çš„æç¤ºè¯ã€‚
è¯¥æ¡†æ¶ç‰¹åˆ«é€‚åˆè¥é”€äººå‘˜ã€ç­–ç•¥å¸ˆå’Œåˆ›æ„äººå‘˜ã€‚
```

### SPEAR Framework
```
SPEARæ¡†æ¶ï¼ˆSituation, Problem, Evidence, Action, Resultï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„
è¯´æœæ€§æ²Ÿé€šå·¥å…·ï¼Œé€šè¿‡æè¿°æƒ…å¢ƒã€é—®é¢˜ã€è¯æ®ã€è¡ŒåŠ¨å’Œç»“æœæ¥æ„å»ºæœ‰è¯´æœåŠ›çš„è®ºè¿°ã€‚
è¯¥æ¡†æ¶å¸®åŠ©ç”¨æˆ·åˆ›å»ºé€»è¾‘æ¸…æ™°ã€è¯æ®å……åˆ†çš„å†…å®¹ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦è¯´æœä»–äººé‡‡å–è¡ŒåŠ¨çš„åœºæ™¯ã€‚
```

### Challenge-Solution-Benefit Framework
```
æŒ‘æˆ˜-è§£å†³æ–¹æ¡ˆ-æ”¶ç›Šæ¡†æ¶ï¼ˆCSBï¼‰æ˜¯ä¸€ç§ç»å…¸çš„è¯´æœæ€§æ²Ÿé€šç»“æ„ï¼Œé€šè¿‡æ˜ç¡®æè¿°æŒ‘æˆ˜
ï¼ˆå®¢æˆ·é¢ä¸´çš„é—®é¢˜ï¼‰ã€è§£å†³æ–¹æ¡ˆï¼ˆå¦‚ä½•è§£å†³é—®é¢˜ï¼‰å’Œæ”¶ç›Šï¼ˆè§£å†³åçš„å¥½å¤„ï¼‰æ¥æ„å»º
æœ‰è¯´æœåŠ›çš„å†…å®¹ã€‚è¯¥æ¡†æ¶ç®€æ´æœ‰åŠ›ï¼Œå¹¿æ³›åº”ç”¨äºå•†ä¸šæ²Ÿé€šä¸­ã€‚
```

---

## æŠ€æœ¯ç»†èŠ‚

### æ¡†æ¶æ–‡æ¡£æ ¼å¼

æ‰€æœ‰æ¡†æ¶æ–‡æ¡£éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š

```markdown
# Framework Name

## ç½‘å€
...

## åº”ç”¨åœºæ™¯
...

## æ¦‚è¿°
è¿™é‡Œæ˜¯æ¡†æ¶çš„è¯¦ç»†æè¿°ï¼Œä¼šè¢«æå–å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚

## æ¡†æ¶æ„æˆ
...
```

### æå–é€»è¾‘

```python
def _extract_overview(self, content: str) -> str:
    """ä»æ¡†æ¶æ–‡æ¡£ä¸­æå–æ¦‚è¿°éƒ¨åˆ†"""
    lines = content.split('\n')
    overview_started = False
    overview_lines = []
    
    for line in lines:
        if line.startswith('## æ¦‚è¿°'):
            overview_started = True
            continue
        elif overview_started:
            if line.startswith('##'):  # é‡åˆ°ä¸‹ä¸€ä¸ªç« èŠ‚ï¼Œåœæ­¢
                break
            if line.strip():  # è·³è¿‡ç©ºè¡Œ
                overview_lines.append(line.strip())
    
    return ' '.join(overview_lines) if overview_lines else ""
```

### æ€§èƒ½è€ƒè™‘

- æ¡†æ¶æè¿°åœ¨æœåŠ¡åˆå§‹åŒ–æ—¶ä¸€æ¬¡æ€§åŠ è½½
- åŠ è½½åç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œé¿å…é‡å¤è¯»å–æ–‡ä»¶
- 57ä¸ªæ¡†æ¶æ–‡æ¡£æ€»å¤§å°çº¦ 500KBï¼ŒåŠ è½½æ—¶é—´ < 1ç§’

---

## å‰ç«¯æ˜¾ç¤ºæ•ˆæœ

ç”¨æˆ·åœ¨é€‰æ‹©æ¡†æ¶æ—¶ï¼Œä¼šçœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹ BAB                                                   â”‚
â”‚                                                         â”‚
â”‚   BABæ¡†æ¶ï¼ˆBefore, After, Bridgeï¼‰æ˜¯ä¸€ç§åŸºäºå™äº‹çš„    â”‚
â”‚   AIæç¤ºè¯å·¥ç¨‹æ–¹æ³•ï¼Œå¸®åŠ©ç”¨æˆ·å°†æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆè”ç³»èµ·æ¥ã€‚â”‚
â”‚   é€šè¿‡æè¿°é—®é¢˜(Before)ã€è®¾æƒ³ç†æƒ³ç»“æœ(After)å¹¶æä¾›æ¸…æ™° â”‚
â”‚   çš„æ¡¥æ¢(Bridge)æ¥å®ç°ç›®æ ‡ï¼ŒBABèƒ½å¤Ÿäº§ç”Ÿæƒ…æ„Ÿå…±é¸£ä¸”æœ‰   â”‚
â”‚   å½±å“åŠ›çš„æç¤ºè¯ã€‚è¯¥æ¡†æ¶ç‰¹åˆ«é€‚åˆè¥é”€äººå‘˜ã€ç­–ç•¥å¸ˆå’Œ   â”‚
â”‚   åˆ›æ„äººå‘˜ã€‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åç»­ä¼˜åŒ–å»ºè®®

1. **ç¼“å­˜ä¼˜åŒ–**
   - è€ƒè™‘å°†æ¡†æ¶æè¿°ç¼“å­˜åˆ°Redisï¼Œé¿å…æ¯æ¬¡æœåŠ¡é‡å¯éƒ½é‡æ–°åŠ è½½

2. **å¤šè¯­è¨€æ”¯æŒ**
   - å½“å‰åªæ”¯æŒä¸­æ–‡æè¿°
   - å¯ä»¥æ·»åŠ è‹±æ–‡æè¿°æ”¯æŒ

3. **æè¿°é•¿åº¦æ§åˆ¶**
   - å½“å‰æ˜¾ç¤ºå®Œæ•´æ¦‚è¿°
   - å¯ä»¥è€ƒè™‘æˆªæ–­è¿‡é•¿çš„æè¿°ï¼Œæ·»åŠ "æŸ¥çœ‹æ›´å¤š"åŠŸèƒ½

4. **æœç´¢åŠŸèƒ½**
   - æ·»åŠ æ¡†æ¶æè¿°çš„å…¨æ–‡æœç´¢
   - å¸®åŠ©ç”¨æˆ·å¿«é€Ÿæ‰¾åˆ°åˆé€‚çš„æ¡†æ¶

---

## ç›¸å…³æ–‡æ¡£

- [æ¡†æ¶æ€»ç»“æ–‡æ¡£](skills-main/skills/prompt-optimizer/references/Frameworks_Summary.md)
- [æ¡†æ¶è¯¦ç»†æ–‡æ¡£ç›®å½•](skills-main/skills/prompt-optimizer/references/frameworks/)
- [æµ‹è¯•è„šæœ¬](backend/test_framework_descriptions.py)

---

## æäº¤ä¿¡æ¯

```
feat: è‡ªåŠ¨åŠ è½½æ¡†æ¶è¯¦ç»†æè¿°

- ä»æ¡†æ¶æ–‡æ¡£ä¸­æå–"æ¦‚è¿°"éƒ¨åˆ†
- æ”¯æŒ57ä¸ªæ¡†æ¶çš„è¯¦ç»†æè¿°
- æ™ºèƒ½åŒ¹é…æ¡†æ¶IDå’Œæè¿°
- æ·»åŠ æ¡†æ¶æè¿°åŠ è½½æµ‹è¯•

ç›¸å…³æ–‡ä»¶ï¼š
- backend/app/services/framework_matcher.py
- backend/test_framework_descriptions.py
```
